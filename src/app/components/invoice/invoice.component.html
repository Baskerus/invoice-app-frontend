<mat-expansion-panel
  #drawer
  [hideToggle]="!panelOpen"
  (opened)="panelOpen = true"
  (closed)="panelOpen = false"
>
  <mat-expansion-panel-header expandedHeight="4.6rem">
    <div class="header">
      <div *ngIf="!panelOpen" class="date-info">
        <span
          >#<span class="text-primary mr">{{ invoice.id }}</span></span
        >
        <span>
          Due <span class="text-primary-thin">{{ date }}</span>
        </span>
      </div>

      <span *ngIf="!panelOpen" class="text-primary">{{ invoice.name }}</span>
      <div class="flex-center" [ngClass]="{ easeLeft: panelOpen }">
        <span
          class="text-primary-lg"
          [ngClass]="{ 'text-primary-xl': panelOpen }"
          >${{ floatTotal(invoice.total) }}</span
        >
        <div [ngClass]="{ paid: invoice.paid == true }" class="status">
          <div class="flex-center">
            <span class="dot">&#8226;</span
            >{{ invoice.paid ? "Paid" : "Pending" }}
          </div>
        </div>
      </div>
    </div>
  </mat-expansion-panel-header>

  <div class="drawer">
    <div class="col">
      <span>Payment Due:</span>
      <span class="text-primary divide">{{ date }}</span>

      <span>Invoice description:</span>
      <span class="text-primary desc-field">{{ invoice.description }}</span>
    </div>

    <div class="col">
      <span class="divide">Bill to:</span>
      <span class="text-primary-md">{{ invoice.name }}</span>
      <span>{{ invoice.address }}</span>
      <span>{{ invoice.city }}</span>
      <span>{{ invoice.code }}</span>
      <span>{{ invoice.country }}</span>
    </div>

    <div class="col">
      <span class="divide">Sent to:</span>
      <span class="divide text-primary">{{ invoice.email }}</span>
      <span
        >Invoice ID: #<span class="text-primary">{{ invoice.id }}</span></span
      >
    </div>
    <div class="delete-button">
      <button
        *ngIf="panelOpen"
        mat-button
        [ngClass]="{ easeUp: drawer.opened }"
        class="invoice-btn"
        (click)="openDialog(drawer)"
      >
        <mat-icon color="primary" aria-hidden="false" aria-label="add icon"
          >delete_outline</mat-icon
        >
      </button>
      <button
        *ngIf="panelOpen"
        [ngClass]="{ easeUp: panelOpen }"
        class="invoice-btn"
        mat-button
      >
        <mat-icon color="primary" aria-hidden="false" aria-label="add icon"
          >edit</mat-icon
        >
      </button>
    </div>
  </div>
</mat-expansion-panel>
